# ============================================
# Talk-To-My-Lawyer - Environment Configuration
# ============================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local or .env files to version control

# ============================================
# Supabase Configuration
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api

# Public - Safe to expose to client
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Private - Server-only (NEVER expose to client)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
DATABASE_URL=postgresql://postgres:[password]@db.your-project.supabase.co:5432/postgres

# ============================================
# OpenAI Configuration
# ============================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================
# Stripe Payment Processing
# ============================================
# Get from: https://dashboard.stripe.com/apikeys

# Public - Safe to expose to client
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key

# Private - Server-only
STRIPE_SECRET_KEY=sk_test_your-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# Email Service Configuration
# ============================================
# Choose your email provider: resend, brevo, sendgrid, smtp, console
EMAIL_PROVIDER=resend

# Email From Address
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Talk-To-My-Lawyer

# Resend (Recommended) - Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your-resend-api-key

# Brevo (Alternative) - Get from: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=your-brevo-api-key

# SendGrid (Alternative) - Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# SMTP (Alternative) - Generic SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ============================================
# Rate Limiting (Upstash Redis)
# ============================================
# Get from: https://console.upstash.com/
# Optional but recommended for production
KV_REST_API_URL=https://your-redis.upstash.io
KV_REST_API_TOKEN=your-upstash-token

# ============================================
# Admin Portal Configuration
# ============================================
# Admin email for initial setup
ADMIN_EMAIL=admin@yourdomain.com

# Shared secret key for admin portal access
# Generate a strong random string (min 32 characters)
# Example: openssl rand -base64 32
ADMIN_PORTAL_KEY=your-super-secret-admin-portal-key-min-32-chars

# ============================================
# Application Configuration
# ============================================
# Production URL
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# For local development
# NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment (development, production, test)
NODE_ENV=development

# ============================================
# Cron Job Security
# ============================================
# Secret for authenticating cron jobs
# Generate: openssl rand -base64 32
CRON_SECRET=your-cron-secret-key-here

# ============================================
# Testing & Development
# ============================================
# Enable test mode (bypasses payment, uses mock data)
# Set to 'true' for development, 'false' for production
ENABLE_TEST_MODE=false

# ============================================
# Optional: Monitoring & Analytics
# ============================================
# Add your monitoring service keys here

# Sentry Error Tracking
# SENTRY_DSN=https://your-sentry-dsn
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn

# Google Analytics
# NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# PostHog Analytics
# NEXT_PUBLIC_POSTHOG_KEY=phc_your-key
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ============================================
# Optional: Feature Flags
# ============================================
# Enable/disable specific features

# FEATURE_ENABLE_AI_IMPROVEMENTS=true
# FEATURE_ENABLE_PDF_GENERATION=true
# FEATURE_ENABLE_EMAIL_DELIVERY=true

# ============================================
# Security Headers (Optional Overrides)
# ============================================
# Override default security configurations if needed

# SUPABASE_HOSTNAME=db.your-project.supabase.co

# ============================================
# IMPORTANT NOTES
# ============================================
# 1. Never commit .env.local or any .env file with real credentials
# 2. Use strong, unique values for all secrets and API keys
# 3. Rotate API keys regularly in production
# 4. Use different keys for development, staging, and production
# 5. Keep service role keys absolutely private - they bypass RLS
# 6. Review and update environment variables during deployment
# 7. Set up proper key management (AWS Secrets Manager, Vault, etc.) for production
